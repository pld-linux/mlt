# Upstream patch to fix FTBFS with newer freetype versions.
# Closes: #733375

diff -Naur mlt-0.9.0.orig/src/modules/gtk2/Makefile mlt-0.9.0/src/modules/gtk2/Makefile
--- mlt-0.9.0.orig/src/modules/gtk2/Makefile	2013-06-03 05:34:35.000000000 +0200
+++ mlt-0.9.0/src/modules/gtk2/Makefile	2014-01-03 11:43:13.518109987 +0100
@@ -37,6 +37,7 @@
 OBJS += producer_count.o
 OBJS += filter_dynamictext.o
 CFLAGS += `pkg-config $(PKGCONFIG_PREFIX) --cflags pangoft2`
+CFLAGS += `pkg-config --cflags-only-I freetype2 | sed 's/ *$$//g'`/freetype
 LDFLAGS += `pkg-config $(PKGCONFIG_PREFIX) --libs pangoft2`
 ifeq ($(targetos),Darwin)
 LDFLAGS += -liconv
diff -Naur mlt-0.9.0.orig/src/modules/gtk2/producer_pango.c mlt-0.9.0/src/modules/gtk2/producer_pango.c
--- mlt-0.9.0.orig/src/modules/gtk2/producer_pango.c	2013-06-03 05:34:35.000000000 +0200
+++ mlt-0.9.0/src/modules/gtk2/producer_pango.c	2014-01-03 11:41:10.270113314 +0100
@@ -25,7 +25,7 @@
 #include <string.h>
 #include <gdk-pixbuf/gdk-pixbuf.h>
 #include <pango/pangoft2.h>
-#include <freetype/freetype.h>
+#include <freetype.h>
 #include <iconv.h>
 #include <pthread.h>
 #include <ctype.h>
